<div id="sale-header-container overflow-hidden">
  <div id="sale-header" class="flex flex-col md:flex-row justify-between items-start md:items-center rounded-2xl p-4 md:p-6 shadow-md bg-black/80 text-white gap-4 overflow-hidden">

    <div class="w-full md:flex-1 ">
      <h2 class="text-2xl md:text-3xl font-extrabold overflow-hidden flex items-center gap-2">
        <span class="material-symbols-outlined text-3xl">contract</span>
        <span>Venda #{{ sale.id }}</span>
      </h2>

      <p class="text-sm font-semibold text-gray-900 text-white mt-1">
        {% if sale.client %}
        <label class="text-sm flex text-white">Cliente: {{ sale.client.name }} </label>
        {% else %}
        <label class="text-white">Cliente sem nome</label>
        {% endif %}
      </p>

      <p class="text-sm mt-1">Status:
        <span class="font-semibold {% if sale.status == 'open' %}text-green-400{% elif sale.status == 'finalized' %}text-success{% else %}text-error{% endif %}">
          {{ sale.get_status_display }}
        </span>
      </p>

      {% if sale.status == 'open' %}
      <p class="text-sm mt-2 flex flex-wrap gap-x-2">
        <span class="font-semibold">Total: R$ {{ sale.total|floatformat:2 }}</span>
        {% if sale.paid_amount > 0 %}
        <span class="hidden sm:inline">|</span>
        <span class="font-semibold">Pago: R$ {{ sale.paid_amount|floatformat:2 }}</span>
        {% if sale.balance < 0 %} <span class="hidden sm:inline">|</span>
          <span class="font-semibold text-yellow-400">Crédito: R$ {{ sale.credit_amount|floatformat:2 }}</span>
          {% else %}
          <span class="hidden sm:inline">|</span>
          <span class="font-semibold">Saldo: R$ {{ sale.balance|floatformat:2 }}</span>
          {% endif %}
          {% endif %}
      </p>
      {% endif %}
    </div>

    <div class="flex gap-2 flex-wrap w-full md:w-auto justify-start md:justify-end">
      {% if sale.status == 'open' %}
      <button id="btn-pay-modal" class="btn btn-success btn-sm text-white gap-1 flex-grow md:flex-grow-0 wrap-anywhere" data-modal="pay-modal">
        <span class="material-symbols-outlined text-base">attach_money</span>
        Pagamento
      </button>

      {% endif %}

      <a href="{% url 'sale_list' %}" class="btn btn-sm flex-grow md:flex-grow-0 text-center">
        ⬅ Voltar
      </a>
    </div>
  </div>
</div>